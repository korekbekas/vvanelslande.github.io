---
title: Plugin Maker - vvctre
permalink: /vvctre/plugin-maker/code-and-builds-user-github-account/
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    Repository Name: <input type="text" id="repository_name" value="vvctre-plugin"></br>

    Type:<br/>
    <input type="radio" id="custom_default_settings" name="type" checked> Custom Default Settings<br/>
    <input type="radio" id="button_to_touch" name="type"> Button To Touch<br/>
    <input type="radio" id="window_size" name="type"> Window Size<br/>
    <input type="radio" id="window_position" name="type"> Window Position<br/>
    <input type="radio" id="log_file" name="type"> Log File<br/><br/>

    <div id="custom_default_settings_div">
      Lines (see <a href="/vvctre/custom-default-settings-plugin-bot-and-server-line-examples/">Custom Default Settings Plugin Bot And Server Line Examples</a>):<br>
      <textarea id="custom_default_settings_lines" style="background-color: white; color: black;"></textarea>
    </div>

    <br/>
    <button id="makePlugin">Make Plugin</button>

    <script src="https://cdn.jsdelivr.net/npm/file-saver/dist/FileSaver.min.js"></script>

    <script>
      const url = new URL(location.href)
      if (url.searchParams.has('code')) {
        fetch('https://vvctre-plugin-maker-server.falt.cf/oauth/github/get-access-token', {
          headers: {
            'Content-Type': 'text/plain'
          },
          body: url.searchParams.get('code'),
          method: 'POST'
        }).then(r => r.text()).then(token => {
          location.href = `/vvctre/plugin-maker/code-and-builds-user-github-account/?token=${token}`
        })
      } else if (!url.searchParams.has('token')) {
        location.href = 'https://github.com/login/oauth/authorize?client_id=1df52b4366a6b5d52011&scope=public_repo,workflow'
      }

      let makingPlugin = false

      document.querySelector('#makePlugin').addEventListener('click', () => {
        if (makingPlugin) {
          return
        }

        document.body.style.cursor = 'wait'
        makingPlugin = true

        ;(async () => {
          const userResponse = await fetch('https://api.github.com/user')
          const userJson = await userResponse.json()

          const generateResponse = await fetch('https://api.github.com/repos/vvanelslande/vvctre-plugin-template-for-discord-bot-and-server/generate', {
            headers: {
              Accept: 'application/vnd.github.baptiste-preview+json',
              'Content-Type': 'text/plain'
            },
            body: JSON.stringify({
              owner: userJson.login,
              name: document.querySelector('#repository_name').value
            }),
            method: 'POST'
          })

          document.body.style.cursor = 'default'
          makingPlugin = false
        })()
      })
    </script>
  </body>
</html>
